{"version":3,"sources":["webpack://te/webpack/universalModuleDefinition","webpack://te/webpack/bootstrap","webpack://te/./style/editor.scss","webpack://te/./node_modules/css-loader/dist/runtime/api.js","webpack://te/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://te/./src/command.ts","webpack://te/./src/dom.ts","webpack://te/./src/editor.ts","webpack://te/./src/event.ts","webpack://te/./src/log.ts","webpack://te/./src/table.ts","webpack://te/./style/editor.scss?d8e2"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,2BAA2B,mBAAO,CAAC,qGAAgD;AACnF;AACA,cAAc,QAAS,yBAAyB,0BAA0B,8BAA8B,cAAc,eAAe,cAAc,2BAA2B,EAAE,4BAA4B,6BAA6B,EAAE,4CAA4C,6BAA6B,gBAAgB,iBAAiB,EAAE,iEAAiE,uBAAuB,uBAAuB,qBAAqB,yBAAyB,sBAAsB,+BAA+B,EAAE;;;;;;;;;;;;;ACF9hB;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,2CAA2C,qBAAqB;AAChE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;ACzFa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA,YAAY,2BAA2B;AACvC;AACA;;AAEA,YAAY,uBAAuB;AACnC;AACA;AACA,KAAK;AACL;;AAEA,YAAY,uBAAuB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,kCAAkC;;AAElC;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;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","file":"editor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"te\"] = factory();\n\telse\n\t\troot[\"te\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/editor.ts\");\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".table-editor-hahaha {\\n  display: inline-block;\\n  border-collapse: collapse;\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  box-sizing: border-box; }\\n  .table-editor-hahaha * {\\n    box-sizing: border-box; }\\n  .table-editor-hahaha > tbody > tr > td {\\n    border: 1px solid #000;\\n    margin: 0;\\n    padding: 0; }\\n    .table-editor-hahaha > tbody > tr > td > div.cell-content {\\n      display: block;\\n      padding: 0 7px;\\n      height: 100%;\\n      min-height: 30px;\\n      outline: none;\\n      word-break: break-word; }\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","import {TdRange, Table, Tr, Td} from './table'\nimport log from \"./log\";\n\nexport interface Command {\n    execute(): boolean\n\n    undo(): boolean\n}\n\nclass CmdDebugger implements Command {\n    constructor() {\n    }\n\n    execute(): boolean {\n        debugger;\n        return true;\n    }\n\n    undo(): boolean {\n        return true;\n    }\n}\n\nexport class CommandMacro implements Command {\n    private readonly commands: Array<Command>;\n\n    constructor(commands?: Array<Command>) {\n        this.commands = commands || [];\n    }\n\n    addCommand(...cmds: Array<Command>): void {\n        this.commands.push(...cmds);\n    }\n\n    execute(): boolean {\n        for (let i = 0; i < this.commands.length; i++) {\n            if (!this.commands[i].execute()) {\n                log.error(`CommandMacro fail on ${i}th command.`, this.commands);\n                while (--i >= 0) {\n                    this.commands[i].undo();\n                }\n                return false;\n            }\n        }\n        return true;\n    }\n\n    undo(): boolean {\n        let i = this.commands.length;\n        while (--i >= 0) {\n            if (!this.commands[i].undo()) {\n                const c = this.commands.length - 1;\n                while (++i <= c) {\n                    this.commands[i].execute();\n                }\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nconst noopCmdMacro = new CommandMacro();\n\nclass CmdAddCell implements Command {\n    private table: Table;\n    private readonly td: Td;\n\n    constructor(table: Table, td: Td) {\n        this.table = table;\n        this.td = td;\n    }\n\n    execute(): boolean {\n        const rowRange = this.td.getRowRange();\n        const tr = this.table.getRowByIndex(rowRange[0]);\n        if (!tr) {\n            log.error('CmdAddCell', `Invalid rowRange: ${rowRange}, colRange: ${this.td.getColRange()}`);\n            return false;\n        }\n        return tr.addTd(this.td) > 0;\n    }\n\n    undo(): boolean {\n        return this.table.removeCell(this.td.getRowRange()[0], this.td.getColRange()[0]) > 0;\n    }\n}\n\nclass CmdDelCell implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n    private readonly colIdx: number;\n    private td: Td | null = null;\n\n    constructor(table: Table, rowIdx: number, colIdx: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.colIdx = colIdx;\n    }\n\n    execute(): boolean {\n        this.td = this.table.getCell(this.rowIdx, this.colIdx);\n        if (!this.td) {\n            log.error('CmdDelCell', `Cell not found. rowIdx: ${this.rowIdx}, colIdx: ${this.colIdx}`);\n            return false;\n        }\n        return this.table.removeCell(this.rowIdx, this.colIdx) > 0;\n    }\n\n    undo(): boolean {\n        const tr = this.table.getRowByIndex(this.rowIdx);\n        if (!tr) {\n            log.error('CmdDelCell', `Row not found. rowIdx: ${this.rowIdx}`);\n            return false;\n        }\n        return tr.addTd(this.td as Td) > 0;\n    }\n}\n\nclass CmdAddColHeader implements Command {\n    private readonly table: Table;\n    private readonly colIdx: number;\n\n    constructor(table: Table, colIdx: number) {\n        this.table = table;\n        this.colIdx = colIdx;\n    }\n\n    execute(): boolean {\n        return this.table.addColHeader(this.colIdx) > 0;\n    }\n\n    undo(): boolean {\n        return this.table.delColHeader(this.colIdx) > 0;\n    }\n}\n\nclass CmdDelColHeader implements Command {\n    private readonly table: Table;\n    private readonly colIdx: number;\n\n    constructor(table: Table, colIdx: number) {\n        this.table = table;\n        this.colIdx = colIdx;\n    }\n\n    execute(): boolean {\n        return this.table.delColHeader(this.colIdx) > 0;\n    }\n\n    undo(): boolean {\n        return this.table.addColHeader(this.colIdx) > 0;\n    }\n}\n\nclass CmdSetCellRowRange implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n    private readonly colIdx: number;\n    private oldRange: TdRange | null = null;\n    private readonly newRange: TdRange;\n\n    constructor(table: Table, rowIdx: number, colIdx: number, newRange: TdRange) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.colIdx = colIdx;\n        this.newRange = newRange;\n    }\n\n    execute(): boolean {\n        const td = this.table.getCell(this.rowIdx, this.colIdx);\n        if (!td) {\n            log.error('CmdSetCellRowRange', `Invalid position. rowIdx: ${this.rowIdx}, colIdx: ${this.colIdx}`);\n            return false;\n        }\n        this.oldRange = td.getRowRange();\n        td.setRowRange(this.newRange);\n        return true;\n    }\n\n    undo(): boolean {\n        const td = this.table.getCell(this.rowIdx, this.colIdx);\n        if (!td) {\n            log.error('CmdSetCellRowRange', `Cell not found. rowIdx: ${this.rowIdx}, colIdx: ${this.colIdx}`);\n            return false;\n        }\n        td.setRowRange(this.oldRange as TdRange);\n        return true;\n    }\n}\n\nclass CmdSetCellColRange implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n    private readonly colIdx: number;\n    private oldRange: TdRange | null = null;\n    private readonly newRange: TdRange;\n\n    constructor(table: Table, rowIdx: number, colIdx: number, newRange: TdRange) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.colIdx = colIdx;\n        this.newRange = newRange;\n    }\n\n    execute(): boolean {\n        const td = this.table.getCell(this.rowIdx, this.colIdx);\n        if (!td) {\n            return false;\n        }\n        this.oldRange = td.getColRange();\n        td.setColRange(this.newRange);\n        return true;\n    }\n\n    undo(): boolean {\n        const td = this.table.getCell(this.newRange[0], this.newRange[1]);\n        if (!td) {\n            log.error('CmdSetCellColRange', `Cell not found. rowIdx: ${this.newRange[0]}, colIdx: ${this.newRange[1]}`);\n            return false;\n        }\n        td.setColRange(this.oldRange as TdRange);\n        return true;\n    }\n}\n\nclass CmdAddBlankRow implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n\n    constructor(table: Table, rowIdx: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n    }\n\n    execute(): boolean {\n        return this.table.addRow(this.rowIdx) > 0;\n    }\n\n    undo(): boolean {\n        return this.table.delRow(this.rowIdx) > 0;\n    }\n}\n\nclass CmdDelBlankRow implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n\n    constructor(table: Table, rowIdx: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n    }\n\n    execute(): boolean {\n        return this.table.delRow(this.rowIdx) > 0;\n    }\n\n    undo(): boolean {\n        return this.table.addRow(this.rowIdx) > 0;\n    }\n}\n\nclass CmdRemoveBlankRows implements Command {\n    private readonly table: Table;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table) {\n        this.table = table;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        const trs = this.table.getRows();\n        for (let i = 0; i < trs.length; i++) {\n            if (trs[i].getTds().length === 0) {\n                if (i !== trs.length - 1) {\n                    this.cmdMacro.addCommand(new CmdMoveRow(this.table, i + 1, -1));\n                }\n                this.cmdMacro.addCommand(new CmdDelBlankRow(this.table, i));\n            }\n        }\n        return this.cmdMacro.execute();\n    }\n\n    undo(): boolean {\n        return this.cmdMacro.undo();\n    }\n}\n\nexport class CmdAddRow implements Command {\n    private readonly table: Table;\n    private readonly refRowIdx: number;\n    private readonly above: boolean;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, refRowIdx: number, above: boolean) {\n        this.table = table;\n        this.refRowIdx = refRowIdx;\n        this.above = above;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        const trs = this.table.getRows();\n        if (this.refRowIdx < 0 || this.refRowIdx >= trs.length) {\n            log.error('CmdAddRow', `Invalid refRowIdx: ${this.refRowIdx}`);\n            return false;\n        }\n        const relativeTr = trs[this.refRowIdx];\n        const targetRowIdx = this.refRowIdx + (this.above ? 0 : 1);\n        // 对应位置增加空行\n        this.cmdMacro.addCommand(new CmdAddBlankRow(this.table, targetRowIdx));\n        // 空行下面的每行向下偏移一行\n        if (this.refRowIdx !== trs.length - 1 || this.above) {\n            const rowIdxWillMoveDown = this.above ? this.refRowIdx + 1 : this.refRowIdx + 2;\n            this.cmdMacro.addCommand(new CmdMoveRow(this.table, rowIdxWillMoveDown, 1));\n        }\n        // 按照相对行的单元格生成单元格并插入到空行中\n        const relativeTds = relativeTr.getTds();\n        let holeStartColIdx = 0;\n        for (let i = 0; i < relativeTds.length; i++) {\n            const relTd = relativeTds[i];\n            const relTdColRange = relTd.getColRange();\n            const relTdRowRange = relTd.getRowRange();\n            // 如果单元格跨行，向下增加行时不用加单元格，但需要把单元格的跨行+1\n            if (relTdRowRange[0] === relTdRowRange[1] || this.above) {\n                const tmpTd = this.table.createCell({\n                    rowRange: [targetRowIdx, targetRowIdx],\n                    colRange: [relTdColRange[0], relTdColRange[1]]\n                });\n                this.cmdMacro.addCommand(new CmdAddCell(this.table, tmpTd));\n            } else {\n                this.cmdMacro.addCommand(new CmdSetCellRowRange(this.table, relTdRowRange[0], relTdColRange[0], [relTdRowRange[0], relTdRowRange[1] + 1]));\n            }\n            // 前面有空洞\n            if (holeStartColIdx < relTdColRange[0]) {\n                // 去上面的行中找到跨行的单元格，并取出跨了几行，如果相对的行《不是空洞的最后一个》或者《是最后一个并且向上添加行》\n                // 就把跨行的单元格增加跨一行\n                const tmpTds: Array<Td> = this.table.getTdsCrossRow(this.refRowIdx - 1, holeStartColIdx, relTdColRange[0] - 1);\n                if (tmpTds.length === 0) {\n                    log.error('CmdAddRow', `Table data error`);\n                    return false;\n                }\n                for (let j = 0; j < tmpTds.length; j++) {\n                    const tmpRowRange = tmpTds[j].getRowRange();\n                    if (tmpRowRange[1] !== this.refRowIdx || this.above) {\n                        tmpTds[j].setRowRange([tmpRowRange[0], tmpRowRange[1] + 1]);\n                    }\n                }\n            }\n            holeStartColIdx = relTdColRange[1] + 1;\n        }\n        // 最后如果有空洞\n        const lastColIdx = this.table.getColCount() - 1;\n        if (holeStartColIdx < lastColIdx) {\n            const tmpTds = this.table.getTdsCrossRow(this.refRowIdx - 1, holeStartColIdx, lastColIdx);\n            if (tmpTds.length === 0) {\n                log.error('CmdAddRow', `Table data error`);\n                return false;\n            }\n            tmpTds.forEach((td) => {\n                const tmpRowRange = td.getRowRange();\n                if (tmpRowRange[1] !== this.refRowIdx || this.above) {\n                    td.setRowRange([tmpRowRange[0], tmpRowRange[1] + 1]);\n                }\n            });\n        }\n        return this.cmdMacro.execute();\n    }\n\n    undo(): boolean {\n        return this.cmdMacro.undo();\n    }\n}\n\nexport class CmdDelRow implements Command {\n    private readonly table: Table;\n    private readonly rowIdx: number;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, rowIdx: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        const tr = this.table.getRowByIndex(this.rowIdx);\n        if (!tr) {\n            return false;\n        }\n        tr.getTds().forEach((td) => {\n            this.cmdMacro.addCommand(new CmdDelCell(this.table, td.getRowRange()[0], td.getColRange()[0]));\n        });\n        this.cmdMacro.addCommand(new CmdDelBlankRow(this.table, this.rowIdx));\n        if (this.rowIdx < this.table.getRowCount() - 1) {\n            this.cmdMacro.addCommand(new CmdMoveRow(this.table, this.rowIdx, -1));\n        }\n        return this.cmdMacro.execute();\n    }\n\n    undo(): boolean {\n        return this.cmdMacro.undo();\n    }\n}\n\nexport class CmdAddColumn implements Command {\n    private readonly table: Table;\n    private readonly refColIdx: number;\n    private readonly left: boolean;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, refColIdx: number, left: boolean) {\n        this.table = table;\n        this.refColIdx = refColIdx;\n        this.left = left;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        this.cmdMacro.addCommand(new CmdAddColHeader(this.table, this.left ? this.refColIdx : this.refColIdx + 1));\n        const colCount = this.table.getColCount();\n        const trs = this.table.getRows();\n        for (let i = 0; i < trs.length; i++) {\n            const tr = trs[i];\n            const tds = tr.getTds();\n            let holeStart = 0;\n            for (let j = 0; j < tds.length; j++) {\n                const td = tds[j];\n                const colRange = td.getColRange();\n                // 参考位置在空洞里，不需要加单元格，把该位置单元格往后移动一列\n                if (holeStart < colRange[0] && this.refColIdx === holeStart && this.refColIdx <= colRange[0] - 1) {\n                    this.cmdMacro.addCommand(new CmdMoveCol(this.table, i, colRange[0], 1));\n                    break;\n                }\n                // 参考位置在单元格中\n                if (this.refColIdx >= colRange[0] && this.refColIdx <= colRange[1]) {\n                    const rowRange = td.getRowRange();\n                    const cellWidth = colRange[1] - colRange[0] + 1;\n                    if (colRange[0] !== colRange[1] && (\n                        (!this.left && this.refColIdx < colRange[1])\n                        || (this.left && this.refColIdx > colRange[0])\n                    )) {\n                        // 如果单元格跨列，并且插入的位置在跨列范围内，跨列+1\n                        this.cmdMacro.addCommand(new CmdSetCellColRange(this.table, rowRange[0], colRange[0], [colRange[0], colRange[1] + 1]));\n                    } else {\n                        // 插入不跨列的单元格\n                        const tmpColIdx = this.left ? colRange[0] : colRange[1] + 1;\n                        this.cmdMacro.addCommand(new CmdMoveCol(this.table, rowRange[0], tmpColIdx, 1));\n                        const tmpTd = this.table.createCell({\n                            rowRange: [rowRange[0], rowRange[1]],\n                            colRange: [tmpColIdx, tmpColIdx]\n                        });\n                        this.cmdMacro.addCommand(new CmdAddCell(this.table, tmpTd));\n                    }\n                    break;\n                }\n                // 如果在最后一个单元格后面是空洞并且参考位置在空洞里，什么都不做\n                if (j === tds.length - 1 && colRange[1] < colCount - 1 && this.refColIdx > colRange[1] && this.refColIdx <= colCount - 1) {\n                    // do nothing\n                }\n                holeStart = colRange[1] + 1;\n            }\n        }\n        const success = this.cmdMacro.execute();\n        if (success) {\n            const c = this.table.getColCount();\n            this.table.setColCount(c + 1);\n        }\n        return success;\n    }\n\n    undo(): boolean {\n        const success = this.cmdMacro.undo();\n        if (success) {\n            const c = this.table.getColCount();\n            this.table.setColCount(c - 1);\n        }\n        return success;\n    }\n}\n\nexport class CmdDelColumn implements Command {\n    private readonly table: Table;\n    private readonly colIdx: number;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, colIdx: number) {\n        this.table = table;\n        this.colIdx = colIdx;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        this.cmdMacro.addCommand(new CmdDelColHeader(this.table, this.colIdx));\n        const firstTr = this.table.getRowByIndex(0);\n        let firstTd = (firstTr as Tr).getTdByColIndex(this.colIdx);\n        if (!firstTd) {\n            log.warn('CmdDelColumn', `Invalid colIdx: ${this.colIdx}`);\n            return false;\n        }\n        const trs = this.table.getRows();\n        // 校验每行是否都有colIdx的单元格，保证左边列对齐\n        for (let i = 0; i < trs.length; i++) {\n            if (!trs[i].leftAlign(this.colIdx)) {\n                log.warn('CmdDelColumn', `Invalid colIdx: ${this.colIdx}`);\n                return false;\n            }\n        }\n        const firstTdIdx = (firstTr as Tr).indexOf(firstTd);\n        const tdsOfFirstRow = (firstTr as Tr).getTds();\n        // 第一行从colIdx单元格往后依次检查，保证列对齐\n        let rightAlignColIdx: number = -1;\n        let rightAligned = false;\n        for (let i = firstTdIdx; i < tdsOfFirstRow.length; i++) {\n            rightAlignColIdx = tdsOfFirstRow[i].getColRange()[1];\n            if (trs.every(tr => tr.rightAlign(rightAlignColIdx))) {\n                rightAligned = true;\n                break;\n            }\n        }\n        if (!rightAligned) {\n            return false;\n        }\n        const offset = rightAlignColIdx - this.colIdx + 1;\n        trs.forEach((tr, i) => {\n            const tdsMatched = tr.getTdsInColRange([this.colIdx, rightAlignColIdx]);\n            tdsMatched.forEach((td) => {\n                this.cmdMacro.addCommand(new CmdDelCell(this.table, i, td.getColRange()[0]));\n            });\n            this.cmdMacro.addCommand(new CmdMoveCol(this.table, i, this.colIdx, -offset));\n        });\n        const success = this.cmdMacro.execute();\n        if (success) {\n            const c = this.table.getColCount();\n            this.table.setColCount(c - 1);\n        }\n        return success;\n    }\n\n    undo(): boolean {\n        const success = this.cmdMacro.undo();\n        if (success) {\n            const c = this.table.getColCount();\n            this.table.setColCount(c - 1);\n        }\n        return success;\n    }\n}\n\nclass CmdMoveRow implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n    private readonly offsetRows: number;\n\n    constructor(table: Table, rowIdx: number, offsetRows: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.offsetRows = offsetRows;\n    }\n\n    execute(): boolean {\n        const trs = this.table.getRows();\n        if (this.rowIdx < 0 || this.rowIdx >= trs.length) {\n            log.error('CmdMoveRow', `Invalid rowIdx: ${this.rowIdx}, total rows: ${trs.length}`);\n            return false;\n        }\n        for (let i = this.rowIdx; i < trs.length; i++) {\n            trs[i].moveRows(this.offsetRows);\n        }\n        return true;\n    }\n\n    undo(): boolean {\n        const trs = this.table.getRows();\n        for (let i = this.rowIdx; i < trs.length; i++) {\n            trs[i].moveRows(-this.offsetRows);\n        }\n        return true;\n    }\n}\n\nclass CmdMoveCol implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n    private readonly startColIdx: number;\n    private readonly offset: number;\n    private anchorIdx: number = -1;\n\n    constructor(table: Table, rowIdx: number, startColIdx: number, offset: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.startColIdx = startColIdx;\n        this.offset = offset;\n    }\n\n    execute(): boolean {\n        const tr = this.table.getRowByIndex(this.rowIdx);\n        if (!tr) {\n            return false;\n        }\n        this.anchorIdx = tr.moveCols(this.offset, this.startColIdx);\n        return true;\n    }\n\n    undo(): boolean {\n        if (this.anchorIdx >= 0) {\n            const tr = this.table.getRowByIndex(this.rowIdx) as Tr;\n            tr.moveCols(-this.offset, this.anchorIdx);\n        }\n        return true;\n    }\n}\n\nclass CmdExtendRows implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n    private readonly offsetRows: number;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, rowIdx: number, offsetRows: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.offsetRows = offsetRows;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        const trs = this.table.getRows();\n        if (this.rowIdx < 0 || this.rowIdx >= trs.length) {\n            log.error('CmdExtendRow', `Invalid rowIdx: ${this.rowIdx}, total rows: ${trs.length}`);\n            return false;\n        }\n        const colCount = this.table.getColCount();\n        const tds = trs[this.rowIdx].getTds();\n        let holeStart = 0;\n        const holeList = [];\n        for (let i = 0; i < tds.length; i++) {\n            const td = tds[i];\n            const colRange = td.getColRange();\n            if (holeStart < colRange[0]) {\n                // 遇到空洞把空洞上面的单元格进行扩展\n                holeList.push([holeStart, colRange[1] - 1]);\n            } else {\n                // 扩展单元格\n                const rowRange = td.getRowRange();\n                this.cmdMacro.addCommand(new CmdSetCellRowRange(this.table, rowRange[0], colRange[0], [rowRange[0], rowRange[1] + this.offsetRows]));\n            }\n            holeStart = colRange[1] + 1;\n        }\n        // 如果最后有空洞\n        if (holeStart <= colCount - 1) {\n            holeList.push([holeStart, colCount - 1]);\n        }\n        holeList.forEach((holeRange) => {\n            const holes = this.table.getTdsCrossRow(this.rowIdx, holeRange[0], holeRange[1]);\n            holes.forEach((hole) => {\n                const holeRowRange = hole.getRowRange();\n                const holeColRange = hole.getColRange();\n                this.cmdMacro.addCommand(new CmdSetCellRowRange(this.table, holeRowRange[0], holeColRange[0], [holeRowRange[0], holeRowRange[1] + this.offsetRows]));\n            });\n        });\n        return this.cmdMacro.execute();\n    }\n\n    undo(): boolean {\n        return this.cmdMacro.undo();\n    }\n}\n\nclass CmdExtendCols implements Command {\n    private table: Table;\n    private readonly rowIdx: number;\n    private readonly colIdx: number;\n    private readonly offsetCols: number;\n\n    constructor(table: Table, rowIdx: number, colIdx: number, offsetCols: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.colIdx = colIdx;\n        this.offsetCols = offsetCols;\n    }\n\n    execute(): boolean {\n        const tr = this.table.getRowByIndex(this.rowIdx);\n        if (!tr) {\n            log.error('CmdExtendCol', `Invalid rowIdx: ${this.rowIdx}`);\n            return false;\n        }\n        tr.extendCols(this.colIdx, this.offsetCols);\n        return true;\n    }\n\n    undo(): boolean {\n        const tr = this.table.getRowByIndex(this.rowIdx) as Tr;\n        tr.extendCols(this.colIdx, -this.offsetCols);\n        return true;\n    }\n}\n\nexport class CmdMergeCells implements Command {\n    private readonly table: Table;\n    private readonly rowRange: TdRange;\n    private readonly colRange: TdRange;\n    private tds: Array<Td> = [];\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, rowRange: TdRange, colRange: TdRange) {\n        this.table = table;\n        this.rowRange = rowRange;\n        this.colRange = colRange;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        const rowRange = this.rowRange;\n        const colRange = this.colRange;\n        const trs = this.table.getRows();\n        const totalColCount =  this.table.getColCount();\n        if (rowRange[0] < 0 || rowRange[0] >= trs.length || rowRange[1] < 0 || rowRange[1] >= trs.length || rowRange[0] > rowRange[1]) {\n            log.error('Table.mergeCells', `Invalid rowRange: ${this.rowRange}`);\n            return false;\n        }\n        if (colRange[0] < 0 || colRange[0] >= totalColCount || colRange[1] < 0 || colRange[1] >= totalColCount || colRange[0] > colRange[1]) {\n            log.error('Table.mergeCells', `Invalid colRange: ${this.colRange}`);\n            return false;\n        }\n        // 校验左右是否对齐\n        for (let i = rowRange[0]; i <= rowRange[1]; i++) {\n            const tr = trs[i];\n            if (!tr.leftAlign(colRange[0], true) || !tr.rightAlign(colRange[1], true)) {\n                log.error('Table.mergeCells', `Invalid range. rowRange: ${rowRange}, colRange: ${colRange}`);\n                return false;\n            }\n        }\n        // 校验第一行选中的单元格是否连续\n        let tmpTds = trs[rowRange[0]].getTdsInColRange(colRange);\n        for (let i = 0; i < tmpTds.length - 1; i++) {\n            if (tmpTds[i].getColRange()[1] + 1 !== tmpTds[i + 1].getColRange()[0]) {\n                log.error('Table.mergeCells', `Invalid rowRange: ${rowRange}`);\n                return false;\n            }\n        }\n        // 检验最后一行的空洞是否不再延续到下面\n        let tmpTr = trs[rowRange[1]];\n        tmpTds = tmpTr.getTdsInColRange(colRange);\n        let holeStartIdx = colRange[0];\n        for (let i = 0; i < tmpTds.length; i++) {\n            const tmpTd = tmpTds[i];\n            const tmpColRange = tmpTd.getColRange();\n            if (holeStartIdx < tmpColRange[0]) {\n                const tdsInHole = this.table.getTdsCrossRow(rowRange[1], holeStartIdx, tmpColRange[0] - 1);\n                if (tdsInHole.length === 0) {\n                    log.error('CmdMergeCells', `Invalid hole. rowIndex: ${rowRange[1]}, colRange: [${colRange[0]}, ${tmpColRange[0] - 1}]`);\n                    return false;\n                }\n                if (!tdsInHole.every(td => td.getRowRange()[1] === rowRange[1])) {\n                    log.error('CmdMergeCells', `Hole is too large`);\n                    return false;\n                }\n            }\n            holeStartIdx = tmpColRange[1] + 1;\n            if (i === tmpTds.length - 1 && holeStartIdx <= colRange[1]) {\n                const tdsInHole = this.table.getTdsCrossRow(rowRange[1], colRange[0], colRange[1]);\n                if (tdsInHole.length === 0) {\n                    log.error('CmdMergeCells', `Invalid hole. rowIndex: ${rowRange[1]}, colRange: [${colRange[0]}, ${tmpColRange[0] - 1}]`);\n                    return false;\n                }\n                if (!tdsInHole.every(td => td.getRowRange()[1] === rowRange[1])) {\n                    log.error('CmdMergeCells', `Hole is too large`);\n                    return false;\n                }\n            }\n        }\n        // 取出所选区域的单元格\n        let content = '';\n        for (let i = rowRange[0]; i <= rowRange[1]; i++) {\n            const tr = this.table.getRowByIndex(i) as Tr;\n            const tds = tr.getTdsInColRange(colRange);\n            this.tds = this.tds.concat(tds);\n            content += tds.reduce((r, td) => {\n                this.cmdMacro.addCommand(new CmdDelCell(this.table, td.getRowRange()[0], td.getColRange()[0]));\n                return r + td.getContent();\n            }, '');\n        }\n        const tdMerged = this.table.createCell({\n            rowRange,\n            colRange,\n            content\n        });\n        this.cmdMacro.addCommand(new CmdAddCell(this.table, tdMerged), new CmdRemoveBlankRows(this.table));\n        // 如果跨n列合并的单元格上下的所有单元格都横跨该单元格的横向范围，就把这些单元格的跨列-(n - 1)\n        if (colRange[0] != colRange[1]) {\n            this.cmdMacro.addCommand(new CmdShrinkColumns(this.table, colRange));\n        }\n        return this.cmdMacro.execute();\n    }\n\n    undo(): boolean {\n        return this.cmdMacro.undo();\n    }\n}\n\nclass CmdShrinkColumns implements Command {\n    private readonly table: Table;\n    private readonly colRange: TdRange;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, colRange: TdRange) {\n        this.table = table;\n        this.colRange = colRange;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        const trs = this.table.getRows();\n        const intersectRanges = this.table.getIntersectColRanges(this.colRange, 1);\n        let colCountShrinked = 0;\n\n        // 对交集列表从右到左进行遍历，避免计算上一次命令导致的偏移\n        for (let i = intersectRanges.length - 1; i >= 0; i--) {\n            const cmdList = [];\n            const insRange = intersectRanges[i];\n            const insRangeCount = insRange[1] - insRange[0] + 1;\n            colCountShrinked += insRangeCount;\n            for (let j = 0; j < trs.length; j++) {\n                const tds = trs[j].getTds();\n                let holeStartIdx = 0;\n                for (let z = 0; z < tds.length; z++) {\n                    const colRange = tds[z].getColRange();\n                    if (colRange[0] <= insRange[0] && colRange[1] >= insRange[1]) {\n                        // 在单元格里（因为获取交集时的冗余参数设置为1，因此肯定比交集大），就可以进行缩减\n                        const tmpColIdxAfterShrink = colRange[0] + (colRange[1] - colRange[0]) - (insRange[1] - insRange[0]) - 1;\n                        cmdList.push(new CmdSetCellColRange(this.table, j, colRange[0], [colRange[0], tmpColIdxAfterShrink]));\n                        if (z !== tds.length - 1) {\n                            // 把后面的单元格往左移动\n                            cmdList.push(new CmdMoveCol(this.table, j, tds[z + 1].getColRange()[0], -insRangeCount));\n                        }\n                        break;\n                    } else if (holeStartIdx <= insRange[0] && colRange[0] > insRange[1]) {\n                        // 在前面的空洞里（交集不会占据多个连续的空洞），就把后面的单元格往左移动\n                        cmdList.push(new CmdMoveCol(this.table, j, colRange[0], -insRangeCount));\n                        break;\n                    }\n                    // 交集在最后的空洞里不需要做任何事\n                    holeStartIdx = colRange[1] + 1;\n                }\n            }\n            if (cmdList.length > 0) {\n                this.cmdMacro.addCommand(...cmdList);\n            }\n        }\n        const success = this.cmdMacro.execute();\n        if (success) {\n            this.table.setColCount(this.table.getColCount() - colCountShrinked);\n        }\n        return success;\n    }\n\n    undo(): boolean {\n        return this.cmdMacro.undo();\n    }\n}\n\nexport class CmdSplitCell implements Command {\n    private readonly table: Table;\n    private readonly rowIdx: number;\n    private readonly colIdx: number;\n    private readonly rowCount: number;\n    private readonly colCount: number;\n    private cmdMacro: CommandMacro = noopCmdMacro;\n\n    constructor(table: Table, rowIdx: number, colIdx: number, rowCount: number, colCount: number) {\n        this.table = table;\n        this.rowIdx = rowIdx;\n        this.colIdx = colIdx;\n        this.rowCount = rowCount;\n        this.colCount = colCount;\n    }\n\n    execute(): boolean {\n        this.cmdMacro = new CommandMacro();\n        const trs = this.table.getRows();\n        if (this.rowIdx < 0 || this.rowIdx >= trs.length) {\n            log.error('CmdSplitCell', `Invalid rowIdx: ${this.rowIdx}`);\n            return false;\n        }\n        const td = this.table.getCell(this.rowIdx, this.colIdx);\n        if (!td) {\n            log.error('CmdSplitCell', `Cell not found. rowIdx: ${this.rowIdx}, colIdx: ${this.colIdx}`);\n            return false;\n        }\n        const rowRange = td.getRowRange();\n        const originStartRowIdx = rowRange[0];\n        const originEndRowIdx = rowRange[1];\n        const originRowCount = originEndRowIdx - originStartRowIdx + 1;\n\n        const colRange = td.getColRange();\n        const originStartColIdx = colRange[0];\n        const originEndColIdx = colRange[1];\n        const originColCount = originEndColIdx - originStartColIdx + 1;\n        // 拆分必须是整数倍\n        if (this.rowCount % originRowCount !== 0 && originRowCount % this.rowCount !== 0) {\n            log.error(`${originRowCount} rows cannot be split into ${this.rowCount} rows`);\n            return false;\n        }\n        if (this.colCount % originColCount !== 0 && originColCount % this.colCount !== 0) {\n            log.error(`${originColCount} columns cannot be split into ${this.colCount} columns`);\n            return false;\n        }\n        // *** 分割行 ***\n        let endRowIdxAfterSplit = originEndRowIdx;\n        let rowStep;\n        if (this.rowCount > originRowCount) {\n            /* 如果分割的行比最小单位的行数多 */\n            const cPerRow = this.rowCount / originRowCount;\n            endRowIdxAfterSplit = originStartRowIdx + this.rowCount - 1;\n            rowStep = 1;\n            const blankRowsInc = cPerRow - 1;\n            // 把被拆分的单元格下面的行都向下移动\n            if (originEndRowIdx !== trs.length - 1) {\n                this.cmdMacro.addCommand(new CmdMoveRow(this.table, originEndRowIdx + 1, this.rowCount - originRowCount));\n            }\n            for (let i = originStartRowIdx; i < originEndRowIdx + 1; i++) {\n                const tmpIdx = i + (cPerRow - 1) * (i - originStartRowIdx);\n                // 把被拆分单元格所在的所有行向下扩展\n                let tmpC = blankRowsInc;\n                while (tmpC-- > 0) {\n                    this.cmdMacro.addCommand(new CmdAddBlankRow(this.table, tmpIdx + 1));\n                }\n                this.cmdMacro.addCommand(new CmdExtendRows(this.table, tmpIdx, blankRowsInc));\n            }\n        } else {\n            rowStep = originRowCount / this.rowCount;\n        }\n        // 缩小被拆分单元格所占的行数\n        this.cmdMacro.addCommand(new CmdSetCellRowRange(this.table, originStartRowIdx, originStartColIdx, [originStartRowIdx, originStartRowIdx + rowStep - 1]));\n        // 插入单元格到被拆分的单元格中\n        for (let i = originStartRowIdx + rowStep; i < endRowIdxAfterSplit + 1; i += rowStep) {\n            const tmpTd = this.table.createCell({\n                rowRange: [i, i + rowStep - 1],\n                colRange: [originStartColIdx, originEndColIdx]\n            });\n            this.cmdMacro.addCommand(new CmdAddCell(this.table, tmpTd));\n        }\n        // 修改行后的末行索引\n        const finalEndRowIdx = trs.length + endRowIdxAfterSplit - originEndRowIdx;\n        // *** 分割列 ***\n        let endColIdxAfterSplit = originEndColIdx;\n        let colStep;\n        if (this.colCount > originColCount) {\n            /* 如果分割的列比最小单位的列数多 */\n            // originStartColIdx = 0 originEndColIdx = 1 cPerCol = 2\n            const cPerCol = this.colCount / originColCount;\n            colStep = 1;\n            endColIdxAfterSplit = originStartColIdx + this.colCount - 1;\n            const blankColsInc = cPerCol - 1;\n            // 每行在被拆分单元格（包含）及后面的单元格进行扩展\n            for (let i = originStartColIdx; i < originEndColIdx + 1; i++) {\n                for (let j = 0; j < finalEndRowIdx; j++) {\n                    this.cmdMacro.addCommand(new CmdExtendCols(this.table, j, originStartColIdx, blankColsInc));\n                }\n                let tmpC = blankColsInc;\n                while (tmpC-- > 0) {\n                    this.cmdMacro.addCommand(new CmdAddColHeader(this.table, i + (i - originStartColIdx) * cPerCol));\n                }\n            }\n        } else {\n            colStep = originColCount / this.colCount;\n        }\n        for (let i = originStartRowIdx; i < endRowIdxAfterSplit + 1; i += rowStep) {\n            // 缩小被拆分的单元格\n            this.cmdMacro.addCommand(new CmdSetCellColRange(this.table, i, originStartColIdx, [originStartColIdx, originStartColIdx + colStep - 1]));\n            // 插入新增的单元格\n            for (let j = originStartColIdx + colStep; j < endColIdxAfterSplit + 1; j += colStep) {\n                const tmpTd = this.table.createCell({\n                    rowRange: [i, i + rowStep - 1],\n                    colRange: [j, j + colStep - 1]\n                });\n                this.cmdMacro.addCommand(new CmdAddCell(this.table, tmpTd));\n            }\n        }\n        this.cmdMacro.addCommand(new CmdRemoveBlankRows(this.table));\n        const success = this.cmdMacro.execute();\n        if (success) {\n            this.table.setColCount(this.table.getColCount() + this.colCount - 1);\n        }\n        return success;\n    }\n\n    undo(): boolean {\n        return this.cmdMacro.undo();\n    }\n}\n\nexport class CmdSetCellContent implements Command {\n    private table: Table;\n    private readonly row: number;\n    private readonly col: number;\n    private readonly content: string;\n    private prevContent: string = '';\n\n    constructor(table: Table, row: number, col: number, content: string) {\n        this.table = table;\n        this.row = row;\n        this.col = col;\n        this.content = content;\n    }\n\n    execute(): boolean {\n        const prevContent = this.table.getCellContent(this.row, this.col);\n        if (prevContent === null) {\n            return false;\n        }\n        this.prevContent = prevContent as string;\n        return this.table.setCellContent(this.row, this.col, this.content);\n    }\n\n    undo(): boolean {\n        const content = this.table.getCellContent(this.row, this.col);\n        if (content === null) {\n            return false;\n        }\n        if (content !== this.content) {\n            // warn\n        }\n        return this.table.setCellContent(this.row, this.col, this.prevContent);\n    }\n}\n","export function insertNode(parent: Node, child: Node, idx: number): boolean {\n    if (idx < 0 || idx > parent.childNodes.length) {\n        return false;\n    }\n    if (idx === parent.childNodes.length) {\n        parent.appendChild(child);\n    } else {\n        parent.insertBefore(child, parent.childNodes[idx]);\n    }\n    return true;\n}\n\nexport function getEventPath(e: Event) {\n    if ('path' in e) {\n        return e['path'];\n    }\n    const path = [e.target];\n    let elem = e.target as HTMLElement;\n    while ((elem as HTMLElement)['parentElement'] !== null) {\n        path.push(elem.parentElement);\n        elem = elem.parentElement as HTMLElement;\n    }\n    path.push(document, window);\n    return path;\n}\n","const pkg = require('../package.json');\nimport {TableData, TableCells, Table, TdRange} from \"./table\";\nimport {\n    Command,\n    CmdAddRow,\n    CmdDelRow,\n    CmdAddColumn,\n    CmdDelColumn,\n    CmdMergeCells,\n    CmdSplitCell,\n    CmdSetCellContent\n} from \"./command\";\nimport \"../style/editor.scss\";\nimport {log} from \"./log\";\nimport {EDITOR_EVENTS, EditorEventHandler} from \"./event\";\n\ntype EditorOptions = {\n    elem: HTMLElement\n    data: TableData | TableCells\n    colWidth?: number | Array<number>\n    editable?: boolean\n    resizeable?: boolean\n    cellFocusedBg?: string\n    borderColor?: string\n    debug?: boolean\n}\n\nconst NOT_EDITABLE_MSG = 'Table can not be edit';\n\nexport class TableEditor {\n    static version = pkg.version;\n    private elem: HTMLElement;\n    private readonly table: Table;\n    private cmdHistory: CommandHistory;\n    private editable: boolean;\n    private readonly debug: boolean;\n    private eventHandler: EditorEventHandler;\n\n    constructor(options: EditorOptions) {\n        this.elem = options.elem;\n        this.elem.innerHTML = '';\n        const className = `table-editor-hahaha`;\n        this.editable = 'editable' in options ? !!options.editable : true;\n        this.eventHandler = new EditorEventHandler();\n        this.debug = 'debug' in options ? !!options.debug : false;\n        this.table = new Table({\n            className: className,\n            data: options.data,\n            colWidth: options.colWidth || [],\n            editable: this.editable,\n            resizeable: 'resizeable' in options ? !!options['resizeable'] : true,\n            cellFocusedBg: options.cellFocusedBg || '',\n            borderColor: options.borderColor || '',\n            debug: this.debug,\n            onCellFocus: (v) => {\n                this.eventHandler.trigger(EDITOR_EVENTS.CELL_FOCUS, v)\n            },\n            onCellBlur: (v) => {\n                this.eventHandler.trigger(EDITOR_EVENTS.CELL_BLUR, v);\n            },\n            onMouseMove: (v) => {\n                this.eventHandler.trigger(EDITOR_EVENTS.MOUSE_MOVE, v);\n            }\n        });\n        this.elem.appendChild(this.table.elem);\n        this.cmdHistory = new CommandHistory(10);\n    }\n\n    addRow(rowIdx: number, above: boolean) {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info(`Add one row ${above ? 'above' : 'below'} row: ${rowIdx}`);\n        }\n        const cmd = new CmdAddRow(this.table, rowIdx, above);\n        if (cmd.execute()) {\n            this.cmdHistory.push(cmd);\n        }\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    delRow(rowIdx: number) {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info(`Delete row ${rowIdx}`);\n        }\n        const cmd = new CmdDelRow(this.table, rowIdx);\n        if (cmd.execute()) {\n            this.cmdHistory.push(cmd);\n        }\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    addColumn(colIdx: number, left: boolean) {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info(`Add one column ${left ? 'left' : 'right'} of column ${colIdx}`);\n        }\n        const cmd = new CmdAddColumn(this.table, colIdx, left);\n        if (cmd.execute()) {\n            this.cmdHistory.push(cmd);\n        }\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    delColumn(colIdx: number) {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info(`Delete column ${colIdx}`);\n        }\n        const cmd = new CmdDelColumn(this.table, colIdx);\n        if (cmd.execute()) {\n            this.cmdHistory.push(cmd);\n        }\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    mergeCells(rowRange: TdRange, colRange: TdRange) {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info(`Merge cells. Row: ${rowRange[0]} ~ ${rowRange[1]}, Column: ${colRange[0]} ~ ${colRange[1]}`);\n        }\n        const cmd = new CmdMergeCells(this.table, rowRange, colRange);\n        if (cmd.execute()) {\n            this.cmdHistory.push(cmd);\n        }\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    splitCell(rowIdx: number, colIdx: number, rowCount: number, colCount: number) {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info(`Split cell (${rowIdx}, ${colIdx}) into ${rowCount} rows and ${colCount} columns`);\n        }\n        const cmd = new CmdSplitCell(this.table, rowIdx, colIdx, rowCount, colCount);\n        if (cmd.execute()) {\n            this.cmdHistory.push(cmd);\n        }\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    getCellContent(rowIdx: number, colIdx: number): string {\n        return this.table.getCellContent(rowIdx, colIdx) || '';\n    }\n\n    setCellContent(rowIdx: number, colIdx: number, content: string) {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info(`Set cell (${rowIdx}, ${colIdx}) \"${content}\"`);\n        }\n        const cmd = new CmdSetCellContent(this.table, rowIdx, colIdx, content);\n        if (cmd.execute()) {\n            this.cmdHistory.push(cmd);\n        }\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    undo() {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info('Undo');\n        }\n        this.cmdHistory.undo();\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    redo() {\n        if (!this.editable) {\n            log.warn(NOT_EDITABLE_MSG);\n            return;\n        }\n        if (this.debug) {\n            log.info('Redo');\n        }\n        this.cmdHistory.redo();\n        if (this.debug) {\n            this.printDebugInfo();\n        }\n    }\n\n    getTableData(): { rows: Array<Array<object>>, colWidth: Array<number> } {\n        return this.table.getTableData();\n    }\n\n    setEditable(editable: boolean) {\n        this.editable = editable;\n        this.table.setEditable(this.editable);\n    }\n\n    addEventListener(name: string, handler: Function) {\n        this.eventHandler.addHandler(name, handler);\n    }\n\n    removeEventListener(name: string, handler: Function) {\n        this.eventHandler.removeHandler(name, handler);\n    }\n\n    private printDebugInfo() {\n        const errorMsg = this.table.validate();\n        if (errorMsg) {\n            log.error(`💩 ${errorMsg}`);\n        }\n        this.cmdHistory.printStatus();\n    }\n\n    destroy() {\n        this.table.destroy();\n    }\n}\n\nclass CommandHistory {\n    private readonly commands: Array<Command | null>;\n    private readonly cap: number;\n    private divide: number = 0;\n    private top: number = 0;\n\n    constructor(max: number) {\n        this.cap = max;\n        this.commands = [];\n    }\n\n    push(cmd: Command) {\n        if (this.divide < this.top) {\n            for (let i = this.divide; i <= this.top - 1; i++) {\n                this.commands[i] = null;\n            }\n            this.top = this.divide;\n        }\n        if (this.top === this.cap) {\n            this.commands.shift();\n            this.commands.push(cmd);\n        } else {\n            this.commands[this.top] = cmd;\n            this.divide = ++this.top;\n        }\n    }\n\n    undo() {\n        if (this.divide > 0 && !(this.commands[--this.divide] as Command).undo()) {\n            this.clear();\n        }\n    }\n\n    redo() {\n        if (this.divide < this.top && !(this.commands[this.divide++] as Command).execute()) {\n            this.clear();\n        }\n    }\n\n    clear() {\n        this.commands.length = 0;\n        this.divide = this.top = 0;\n    }\n\n    printStatus() {\n        log.info(`👽 Command History: Capability: ${this.cap}  Undo: ${this.divide}  Redo: ${this.top - this.divide}`, this.commands);\n    }\n}\n","import {Td, TdRange} from \"./table\";\nimport log from \"./log\";\n\nexport const EDITOR_EVENTS: {[prop: string]: string} = {\n    CELL_FOCUS: 'cellfocus',\n    CELL_BLUR: 'cellblur',\n    MOUSE_MOVE: 'mousemove'\n};\n\nconst eventNames = Object.keys(EDITOR_EVENTS).map((k) => {\n    return EDITOR_EVENTS[k];\n});\n\nexport class EditorEventHandler {\n    private events: Map<string, Array<Function>>;\n\n    constructor() {\n        this.events = new Map<string, Array<Function>>();\n        eventNames.forEach((n) => {\n            this.events.set(n, []);\n        });\n    }\n\n    addHandler(name: string, handler: Function) {\n        if (!this.events.has(name)) {\n            log.warn(`Invalid event: ${name}. Available events: ${eventNames.join(', ')}`);\n            return;\n        }\n        if (typeof handler !== 'function') {\n            log.warn(`Invalid event handler`);\n            return;\n        }\n        (this.events.get(name) as Array<Function>).push(handler);\n    }\n\n    removeHandler(name: string, handler: Function) {\n        if (!this.events.has(name)) {\n            log.warn(`Invalid event: ${name}. Available events: ${eventNames.join(', ')}`);\n            return;\n        }\n        if (typeof handler !== 'function') {\n            log.warn(`Invalid event handler`);\n            return;\n        }\n        const hs = this.events.get(name);\n        const idx = (hs as Array<Function>).indexOf(handler);\n        if (idx >= 0) {\n            (hs as Array<Function>).splice(idx, 1);\n        }\n    }\n\n    trigger(name: string, value: any) {\n        (this.events.get(name) as Array<Function>).forEach((h) => {\n            h(value);\n        });\n    }\n}\n\nexport class TECellFocusEvent {\n    row: TdRange;\n    col: TdRange;\n\n    constructor(row: TdRange, col: TdRange) {\n        this.row = row;\n        this.col = col;\n    }\n}\n\nexport class TECellBlurEvent {\n    row: TdRange;\n    col: TdRange;\n\n    constructor(row: TdRange, col: TdRange) {\n        this.row = row;\n        this.col = col;\n    }\n}\n\ntype mouseMoveParam = {\n    offsetX: number\n    offsetY: number\n}\n\nexport class TEMouseMoveEvent {\n    offsetX: number;\n    offsetY: number;\n\n    constructor(data: mouseMoveParam) {\n        this.offsetX = data.offsetX;\n        this.offsetY = data.offsetY;\n    }\n}\n","const PREFIX = '👻';\n\nexport const log = {\n    info: (...messages: any) => {\n        (console.info || console.log)(PREFIX, ...messages);\n    },\n    warn: (...messages: any) => {\n        (console.warn || console.log)(PREFIX, ...messages);\n    },\n    error: (...messages: any) => {\n        (console.error || console.log)(PREFIX, ...messages);\n    }\n};\n\nexport default log;\n","import log from './log';\nimport {insertNode, getEventPath} from \"./dom\";\nimport {TECellBlurEvent, TECellFocusEvent, TEMouseMoveEvent} from \"./event\";\n\ntype TdRange = [number, number];\ntype TdData = {\n    row: TdRange\n    col: TdRange\n    content: string\n    style?: object\n    width?: number\n}\ntype TrData = Array<TdData>\ntype TableData = Array<TrData>\n\ninterface Props {\n    style?: {\n        [prop: string]: string\n    }\n}\n\ntype TableCells = Array<TdData>;\n\nfunction tdRangeToString(range: TdRange | Array<TdRange>): string {\n    if (range.length === 0) {\n        return '';\n    }\n    if (typeof range[0] === 'number') {\n        return `[${range[0]}, ${range[1]}]`;\n    }\n    const tmpArr = (<Array<TdRange>>range).map((r) => {\n        return `[${r[0]}, ${r[1]}]`;\n    });\n    return `[${tmpArr.join(', ')}]`;\n}\n\ntype tdOptions = {\n    rowRange: TdRange\n    colRange: TdRange\n    content?: string\n    props?: Props\n};\n\nclass Td {\n    private rowRange: TdRange = [-1, -1];\n    private colRange: TdRange = [-1, -1];\n    private content: string;\n    private readonly elem: HTMLTableCellElement;\n    private readonly ccElem: HTMLDivElement;\n    private props: Props;\n    private editable: boolean = true;\n\n    constructor(options: tdOptions) {\n        this.content = options.content || '';\n        this.elem = document.createElement('td');\n        // cc is short for \"content cell\"\n        this.ccElem = document.createElement('div');\n        this.ccElem.className = 'cell-content';\n        this.ccElem.innerText = this.content;\n        this.elem.appendChild(this.ccElem);\n        // @ts-ignore\n        this.elem.td = this;\n        this.setRowRange(options.rowRange);\n        this.setColRange(options.colRange);\n        this.props = options.props || {};\n        if (this.props.style) {\n            Object.keys(this.props.style).forEach((k) => {\n                // @ts-ignore\n                this.elem.style[k] = this.props.style[k];\n            });\n        }\n    }\n\n    getRowRange() {\n        return this.rowRange;\n    }\n\n    getColRange() {\n        return this.colRange;\n    }\n\n    getContent() {\n        return this.content;\n    }\n\n    getElem() {\n        return this.elem;\n    }\n\n    setRowRange(range: TdRange) {\n        this.rowRange = range;\n        if (range[1] === range[0]) {\n            this.elem.removeAttribute('rowspan');\n        } else {\n            this.elem.rowSpan = range[1] - range[0] + 1;\n        }\n    }\n\n    setColRange(range: TdRange) {\n        this.colRange = range;\n        if (range[1] === range[0]) {\n            this.elem.removeAttribute('colspan');\n        } else {\n            this.elem.colSpan = range[1] - range[0] + 1;\n        }\n    }\n\n    setContent(content: string, updateElement: boolean = true) {\n        this.content = content;\n        if (updateElement) {\n            this.ccElem.innerText = content;\n        }\n    }\n\n    setEditable(editable: boolean) {\n        this.editable = editable;\n        if (this.editable) {\n            this.ccElem.contentEditable = 'true';\n        } else {\n            this.ccElem.removeAttribute('contenteditable');\n        }\n    }\n}\n\nexport class Tr {\n    private readonly tds: Array<Td>;\n    private readonly elem: HTMLTableRowElement;\n    private colCount: number = 0;\n\n    constructor(tds?: Array<Td>) {\n        this.tds = tds || [];\n        this.elem = document.createElement('tr');\n        this.tds.forEach((td) => {\n            this.elem.appendChild(td.getElem());\n        });\n    }\n\n    getElem() {\n        return this.elem;\n    }\n\n    getTds() {\n        return this.tds;\n    }\n\n    addTd(td: Td): number {\n        const colRange = td.getColRange();\n        if (this.tds.length === 0 || this.tds[this.tds.length - 1].getColRange()[1] < colRange[0]) {\n            // 空行或者需要插入到最后\n            this.elem.appendChild(td.getElem());\n            this.tds.push(td);\n            return 1;\n        } else if (this.tds[0].getColRange()[0] > colRange[1]) {\n            // 插入到开头\n            insertNode(this.elem, td.getElem(), 0);\n            this.tds.unshift(td);\n            return 1;\n        } else {\n            // 插入到中间\n            for (let i = 0; i < this.tds.length; i++) {\n                if (i !== this.tds.length - 1) {\n                    const tmpColRange = this.tds[i].getColRange();\n                    const tmpNextColRange = this.tds[i + 1].getColRange();\n                    if (colRange[0] > tmpColRange[1] && colRange[1] < tmpNextColRange[0]) {\n                        // 插入到空洞\n                        insertNode(this.elem, td.getElem(), i + 1);\n                        this.tds.splice(i + 1, 0, td);\n                        return 1;\n                    }\n                }\n            }\n        }\n        const tdsRange = this.tds.map((td) => {\n            return td.getColRange();\n        });\n        log.error('Tr.addTd', `Add td fail. tds col range: ${tdRangeToString(tdsRange)}, tdRange: ${tdRangeToString(colRange)}`);\n        return 0;\n    }\n\n    removeTdByColIdx(colIdx: number): number {\n        for (let i = 0; i < this.tds.length; i++) {\n            const td = this.tds[i];\n            const colRange = td.getColRange();\n            if (colRange[0] === colIdx) {\n                this.elem.removeChild(td.getElem());\n                this.tds.splice(i, 1);\n                return 1;\n            }\n        }\n        return 0;\n    }\n\n    getTdByColIndex(colIdx: number): Td | null {\n        for (let i = 0; i < this.tds.length; i++) {\n            if (this.tds[i].getColRange()[0] === colIdx) {\n                return this.tds[i];\n            }\n        }\n        return null;\n    }\n\n    getTdsInColRange(range: TdRange): Array<Td> {\n        let start = -1;\n        let end = -1;\n        for (let i = 0; i < this.tds.length; i++) {\n            const colRange = this.tds[i].getColRange();\n            if (start === -1 && colRange[0] >= range[0]) {\n                start = i;\n            }\n            if (colRange[1] <= range[1]) {\n                end = i;\n            }\n        }\n        return start >= 0 && end >= 0 ? this.tds.slice(start, end + 1) : [];\n    }\n\n    indexOf(td: Td): number {\n        for (let i = 0; i < this.tds.length; i++) {\n            if (td === this.tds[i]) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    leftAlign(colIdx: number, strict: boolean = false): boolean {\n        if (colIdx === 0) {\n            return true;\n        }\n        let holeStart = 0;\n        for (let i = 0; i < this.tds.length; i++) {\n            const colRange = this.tds[i].getColRange();\n            if (colRange[0] === colIdx) {\n                return true;\n            }\n            // 如果非严格模式并且在空洞里\n            if (!strict && colIdx >= holeStart && colIdx < colRange[0]) {\n                return true;\n            }\n            holeStart = colRange[1] + 1;\n        }\n        // 非严格模式落在最后一个空洞里\n        return !strict && colIdx >= holeStart && colIdx < this.colCount - 1;\n\n    }\n\n    rightAlign(colIdx: number, strict: boolean = false): boolean {\n        if (colIdx === this.colCount - 1) {\n            return true;\n        }\n        let holeStart = 0;\n        for (let i = 0; i < this.tds.length; i++) {\n            const colRange = this.tds[i].getColRange();\n            if (colIdx === colRange[1]) {\n                return true;\n            }\n            if (!strict && colIdx >= holeStart && colIdx < colRange[0]) {\n                return true\n            }\n            holeStart = colRange[1] + 1;\n        }\n        return !strict && colIdx >= holeStart && colIdx < this.colCount - 1;\n    }\n\n    moveRows(offset: number = 1) {\n        this.tds.forEach((td) => {\n            const rowRange = td.getRowRange();\n            td.setRowRange([rowRange[0] + offset, rowRange[1] + offset]);\n        });\n    }\n\n    moveCols(offset: number, startColIdx: number): number {\n        let anchorIdx = -1;\n        this.tds.forEach((td) => {\n            const colRange = td.getColRange();\n            if (colRange[0] >= startColIdx) {\n                td.setColRange([colRange[0] + offset, colRange[1] + offset]);\n                if (anchorIdx < 0) {\n                    anchorIdx = colRange[0] + offset;\n                }\n            }\n        });\n        return anchorIdx;\n    }\n\n    extendCols(colIdx: number, offsetCols: number) {\n        let targetTd;\n        let targetIdx = -1;\n        // 设置为\"空洞\"的开始\n        let holeStart = 0;\n        for (let i = 0; i < this.tds.length; i++) {\n            const td = this.tds[i];\n            const colRange = td.getColRange();\n            if (colIdx >= holeStart && colIdx < colRange[0]) {\n                // 在空洞里，就把后面的都往后移动\n                for (let j = i; j < this.tds.length; j++) {\n                    const tmpTd = this.tds[j];\n                    const tmpColRange = tmpTd.getColRange();\n                    tmpTd.setColRange([tmpColRange[0] + offsetCols, tmpColRange[1] + offsetCols]);\n                }\n                break;\n            } else if (colIdx >= colRange[0] && colIdx <= colRange[1]) {\n                // 如果在单元格里，就把当前单元格扩展，把后面的单元格后移\n                td.setColRange([colRange[0], colRange[1] + offsetCols]);\n                for (let j = i + 1; j < this.tds.length; j++) {\n                    const tmpColRange = this.tds[j].getColRange();\n                    this.tds[j].setColRange([tmpColRange[0] + offsetCols, tmpColRange[1] + offsetCols]);\n                }\n                break;\n            }\n            holeStart = colRange[1] + 1;\n        }\n    }\n\n    setColContent(n: number) {\n        this.colCount = n;\n    }\n}\n\nenum MouseMode {\n    NONE,\n    RESIZE,\n    SELECT\n}\n\ntype tableOptions = {\n    className: string\n    data: TableData | TableCells\n    colWidth: number | Array<number>\n    editable: boolean\n    resizeable: boolean\n    cellFocusedBg: string\n    borderColor: string\n    debug: boolean\n    onCellFocus: (e: TECellFocusEvent) => void\n    onCellBlur: (e: TECellBlurEvent) => void\n    onMouseMove: (e: TEMouseMoveEvent) => void\n};\n\ntype mousePos = { pageX: number, pageY: number, clientX: number, clientY: number };\n\nclass Table {\n    static defaultColWidth: number = 50;\n\n    readonly elem: HTMLTableElement;\n    private readonly colgroupElem: HTMLElement;\n    private readonly tbodyElem: HTMLElement;\n    private readonly trs: Array<Tr>;\n    private colCount: number = 0;\n    private readonly cellFocusedBg: string;\n    private readonly borderColor: string;\n    private editable: boolean;\n    private readonly resizeable: boolean;\n    private debug: boolean;\n    private readonly onCellFocus: (e: TECellFocusEvent) => void;\n    private readonly onCellBlur: (e: TECellBlurEvent) => void;\n    private readonly onMouseMove: (e: TEMouseMoveEvent) => void;\n\n    private mouseMode: MouseMode = MouseMode.NONE;\n    private mouseDownPos: mousePos = {pageX: 0, pageY: 0, clientX: 0, clientY: 0};\n    // 拖动的竖线的状态变量\n    private colElsResizing: Array<HTMLElement> = [];\n    private resizeRange: [number, number] = [-1, -1];\n    // 开始拖拽的单元格\n    private tdSelectStart: {r: number, c: number} = {r: 0, c: 0};\n\n    constructor(options: tableOptions) {\n        this.elem = document.createElement('table');\n        this.elem.className = options.className;\n        this.colgroupElem = document.createElement('colgroup');\n        this.tbodyElem = document.createElement('tbody');\n        this.elem.appendChild(this.colgroupElem);\n        this.elem.appendChild(this.tbodyElem);\n        this.trs = [];\n        this.editable = options.editable;\n        this.resizeable = options.resizeable;\n        this.cellFocusedBg = options.cellFocusedBg;\n        this.borderColor = options.borderColor;\n        this.debug = options.debug;\n        this.onCellFocus = options.onCellFocus;\n        this.onCellBlur = options.onCellBlur;\n        this.onMouseMove = options.onMouseMove;\n        let data = options.data || [[{\n            row: [0, 0],\n            col: [0, 0],\n            content: '',\n            style: {}\n        }]];\n        try {\n            if (data.length === 0) {\n                return;\n            }\n            const cwc = new ColWidthCalculator();\n            if ('row' in data[0]) {\n                // TableCells\n                (data as TableCells).forEach((tdData) => {\n                    const rowRange = tdData.row;\n                    const colRange = tdData.col;\n                    if (this.trs.length - 1 < rowRange[1]) {\n                        for (let i = this.trs.length; i <= rowRange[1]; i++) {\n                            const tr = new Tr();\n                            this.trs.push(tr);\n                            this.tbodyElem.appendChild(tr.getElem());\n                        }\n                    }\n                    const tr = this.trs[rowRange[0]];\n                    const style: {[prop: string]: string} = {};\n                    if (this.borderColor) {\n                        style['borderColor'] = this.borderColor;\n                    }\n                    tr.addTd(this.createCell({\n                        rowRange,\n                        colRange,\n                        content: tdData.content,\n                        props: {style}\n                    }));\n                    if ('width' in tdData) {\n                        cwc.add(colRange, tdData['width'] as number);\n                    }\n                    if (this.colCount < colRange[1]) {\n                        this.colCount = colRange[1];\n                    }\n                });\n            } else {\n                // TableData\n                this.trs = (data as TableData).map((trData) => {\n                    const tds = trData.map((td) => {\n                        if (this.colCount < td.col[1]) {\n                            this.colCount = td.col[1];\n                        }\n                        if ('width' in td) {\n                            cwc.add(td.col, td.width as number);\n                        }\n                        const style: {[prop: string]: string} = {};\n                        if (this.borderColor) {\n                            style['borderColor'] = this.borderColor;\n                        }\n                        return this.createCell({\n                            rowRange: td.row,\n                            colRange: td.col,\n                            content: td.content,\n                            props: {style}\n                        });\n                    });\n                    const tr = new Tr(tds);\n                    this.tbodyElem.appendChild(tr.getElem());\n                    return tr;\n                });\n            }\n            this.colCount++;\n            let i = 0;\n            const colWidthCalculated = cwc.calc(this.colCount, options.colWidth);\n            while (i < this.colCount) {\n                const colElem = document.createElement('col');\n                colElem.style.width = `${colWidthCalculated[i] || Table.defaultColWidth}px`;\n                this.colgroupElem.appendChild(colElem);\n                i++;\n            }\n            this.trs.forEach((tr) => {\n                tr.getTds().forEach((td) => {\n                    td.setEditable(this.editable);\n                });\n            });\n        } catch (e) {\n            log.error('Invalid table data.', options.data, e);\n            return;\n        }\n        this.initEventListener();\n    }\n\n    private initEventListener() {\n        this.elem.addEventListener('input', (e) => {\n            if (!this.editable) {\n                return;\n            }\n            e.stopPropagation();\n            const ep = getEventPath(e);\n            const target = e.target as HTMLElement;\n            if (this.eventTargetIsCellContent(e)) {\n                // @ts-ignore\n                const td: Td = (ep[1] as HTMLElement).td;\n                td.setContent(target['innerText'] as string, false);\n            }\n        });\n\n        const RESIZE_OFFSET = 5;\n\n        this.elem.addEventListener('mousedown', (e) => {\n            if (!this.editable || !this.eventTargetIsCellContent(e)) {\n                return;\n            }\n            this.mouseDownPos = {\n                pageX: e.pageX,\n                pageY: e.pageY,\n                clientX: e.clientX,\n                clientY: e.clientY\n            };\n            const target = e.target as HTMLElement;\n            // @ts-ignore\n            const td = (target['parentNode'] as HTMLElement)['td'] as Td;\n            let tmpIdx = td.getColRange()[0] + (e.offsetX < RESIZE_OFFSET ? 0 : 1);\n            if ((e.offsetX < RESIZE_OFFSET && tmpIdx > 0) || e.offsetX > target['clientWidth'] - RESIZE_OFFSET) {\n                if (!this.resizeable) {\n                    return;\n                }\n                if (e.offsetX < RESIZE_OFFSET) {\n                    tmpIdx--;\n                }\n                // 不能拖拽第一条竖线\n                this.mouseMode = MouseMode.RESIZE;\n                const colEls = this.colgroupElem.children as HTMLCollection;\n                const maxLeftOffset = +(colEls[tmpIdx + 1] as HTMLElement)['style'].width.slice(0, -2) - 2 * RESIZE_OFFSET;\n                const colEl = colEls[tmpIdx] as HTMLElement;\n                // @ts-ignore\n                colEl['originWidth'] = +colEl.style.width.slice(0, -2);\n                if (tmpIdx === colEls.length) {\n                    // 最后一条竖线\n                    this.resizeRange = [maxLeftOffset, (this.elem.parentElement as HTMLElement).clientWidth - this.elem.clientWidth];\n                    this.colElsResizing = [colEl];\n                } else {\n                    const maxRightOffset = +colEl['style'].width.slice(0, -2) - 2 * RESIZE_OFFSET;\n                    this.resizeRange = [maxLeftOffset, maxRightOffset];\n                    const leftColEl = colEls[tmpIdx - 1] as HTMLElement;\n                    // @ts-ignore\n                    leftColEl['originWidth'] = +leftColEl.style.width.slice(0, -2);\n                    this.colElsResizing = [leftColEl, colEl];\n                }\n            } else {\n                this.mouseMode = MouseMode.SELECT;\n                this.tdSelectStart = {r: td.getRowRange()[0], c: td.getColRange()[0]};\n            }\n        });\n\n        this.elem.addEventListener('mouseup', (e) => {\n            if (!this.editable) {\n                return;\n            }\n            this.elem.style.cursor = 'text';\n            this.mouseMode = MouseMode.NONE;\n        });\n\n        this.elem.addEventListener('mousemove', (e) => {\n            const target = e.target as HTMLElement;\n            const ep = getEventPath(e);\n            if (this.mouseMode === MouseMode.NONE) {\n                if (this.eventTargetIsCellContent(e) && (e.offsetX < RESIZE_OFFSET || e.offsetX > target['clientWidth'] - RESIZE_OFFSET)) {\n                    // 鼠标在竖线上\n                    if (this.resizeable) {\n                        this.elem.style.cursor = 'col-resize';\n                    }\n                } else {\n                    if (this.editable) {\n                        this.elem.style.cursor = 'text';\n                    }\n                }\n            } else if (this.mouseMode === MouseMode.RESIZE) {\n                if (this.resizeable) {\n                    this.elem.style.cursor = 'col-resize';\n                    const startPageX = this.mouseDownPos.pageX;\n                    const leftOffset = e.pageX < startPageX\n                        ? Math.min(startPageX - e.pageX, this.resizeRange[0])\n                        : -Math.min(e.pageX - startPageX, this.resizeRange[1]);\n                    const leftColEl = this.colElsResizing[0];\n                    // @ts-ignore\n                    leftColEl.style.width = `${leftColEl['originWidth'] - leftOffset}px`;\n                    if (this.colElsResizing.length > 1) {\n                        const rightColEl = this.colElsResizing[1];\n                        // @ts-ignore\n                        rightColEl.style.width = `${rightColEl['originWidth'] + leftOffset}px`;\n                    }\n                }\n            } else if (this.mouseMode === MouseMode.SELECT) {\n                if (this.editable) {\n                    //\n                }\n            }\n            this.onMouseMove(new TEMouseMoveEvent({\n                offsetX: e.offsetX,\n                offsetY: e.offsetY\n            }));\n        });\n\n        this.elem.addEventListener('mouseout', (e) => {\n            this.elem.style.cursor = 'default';\n        });\n\n        this.elem.addEventListener('focusin', (e) => {\n            if (this.eventTargetIsCellContent(e)) {\n                const target = e.target as HTMLElement;\n                const tdEl = target.parentElement as HTMLElement;\n                tdEl.style.background = this.cellFocusedBg;\n                // @ts-ignore\n                const td: Td = tdEl.td;\n                const rowRange = td.getRowRange();\n                const colRange = td.getColRange();\n                this.onCellFocus(new TECellFocusEvent([rowRange[0], rowRange[1]], [colRange[0], colRange[1]]));\n            }\n        });\n\n        this.elem.addEventListener('focusout', (e) => {\n            if (this.eventTargetIsCellContent(e)) {\n                const target = e.target as HTMLElement;\n                const tdEl = target.parentElement as HTMLElement;\n                tdEl.style.background = '';\n                // @ts-ignore\n                const td: Td = tdEl.td;\n                const rowRange = td.getRowRange();\n                const colRange = td.getColRange();\n                this.onCellBlur(new TECellBlurEvent([rowRange[0], rowRange[1]], [colRange[0], colRange[1]]));\n            }\n        });\n    }\n\n    createCell(options: tdOptions): Td {\n        if (!options.props) {\n            options.props = {};\n        }\n        if (!options.props.style) {\n            options.props.style = {};\n        }\n        if (this.borderColor) {\n            options.props.style['borderColor'] = this.borderColor;\n        }\n        const td = new Td(options);\n        td.setEditable(this.editable);\n        return td;\n    }\n\n    private eventTargetIsCellContent(e: Event) {\n        const ep = getEventPath(e);\n        return e.target instanceof HTMLElement && e.target.classList.contains('cell-content') && ep[4] === this.elem;\n    }\n\n    addRow(rowIdx: number): number {\n        if (rowIdx < 0 || rowIdx > this.trs.length) {\n            log.error('Table.addRow', `Invalid rowIdx: ${rowIdx}`);\n            return 0\n        }\n        const tr = new Tr();\n        insertNode(this.tbodyElem, tr.getElem(), rowIdx);\n        this.trs.splice(rowIdx, 0, tr);\n        return 1;\n    }\n\n    delRow(rowIdx: number): number {\n        if (rowIdx < 0 || rowIdx >= this.trs.length) {\n            log.error('Table.delRow', `Invalid rowIdx: ${rowIdx}`);\n            return 0\n        }\n        const tr = this.trs[rowIdx];\n        this.tbodyElem.removeChild(tr.getElem());\n        this.trs.splice(rowIdx, 1);\n        return 1;\n    }\n\n    addColHeader(colIdx: number): number {\n        const cols = this.colgroupElem.children;\n        if (colIdx < 0 || colIdx >= cols.length) {\n            log.error('Table.addCol', `Invalid colIdx: ${colIdx}`);\n            return 0;\n        }\n        const colElem = document.createElement('col');\n        colElem.style.width = `${Table.defaultColWidth}px`;\n        insertNode(this.colgroupElem, colElem, colIdx);\n        return 1;\n    }\n\n    delColHeader(colIdx: number): number {\n        const colElem = this.colgroupElem.children[colIdx];\n        if (!colElem) {\n            return 0;\n        }\n        this.colgroupElem.removeChild(colElem);\n        return 1;\n    }\n\n    getRows() {\n        return this.trs;\n    }\n\n    getRowCount(): number {\n        return this.trs.length;\n    }\n\n    getColCount(): number {\n        return this.colCount;\n    }\n\n    setColCount(n: number) {\n        this.colCount = n;\n        this.trs.forEach((tr) => {\n            tr.setColContent(n);\n        });\n    }\n\n    getRowByIndex(idx: number): Tr | null {\n        if (idx < 0 || idx >= this.trs.length) {\n            return null;\n        }\n        return this.trs[idx];\n    }\n\n    // 获取空洞位置的单元格\n    getTdsCrossRow(fromRowIdx: number, colStartIdx: number, colEndIdx: number): Array<Td> {\n        const ret: Array<Td> = [];\n        if (fromRowIdx < 0 || fromRowIdx >= this.trs.length) {\n            log.error('Table.getTdsCrossRow', `Invalid param fromRowIdx: ${fromRowIdx}`);\n            return ret;\n        }\n        let c = 1;\n        for (let i = fromRowIdx; i >= 0; i--) {\n            const td = this.trs[i].getTdByColIndex(colStartIdx);\n            if (td) {\n                ret.push(td);\n                const colRange = td.getColRange();\n                if (colRange[1] < colEndIdx) {\n                    colStartIdx = colRange[1] + 1;\n                    i = fromRowIdx;\n                    c++;\n                } else {\n                    break;\n                }\n            }\n        }\n        if (c !== ret.length) {\n            log.error('Table.getTdsCrossRow', `Table data error`);\n        }\n        return ret;\n    }\n\n    removeCell(rowIdx: number, colIdx: number): number {\n        if (rowIdx < 0 || rowIdx >= this.trs.length) {\n            log.error('Table.removeCell', `Invalid param rowIdx: ${rowIdx}`);\n            return 0;\n        }\n        const tr = this.trs[rowIdx];\n        return tr.removeTdByColIdx(colIdx);\n    }\n\n    getCell(rowIdx: number, colIdx: number): Td | null {\n        if (rowIdx < 0 || rowIdx >= this.trs.length) {\n            log.error('Table.getCell', `Invalid param rowIdx: ${rowIdx}`);\n            return null;\n        }\n        const tr = this.trs[rowIdx];\n        return tr.getTdByColIndex(colIdx);\n    }\n\n    getCellContent(rowIdx: number, colIdx: number): string | null {\n        const td = this.getCell(rowIdx, colIdx);\n        if (!td) {\n            return null;\n        }\n        return td.getContent();\n    }\n\n    setCellContent(rowIdx: number, colIdx: number, content: string): boolean {\n        const td = this.getCell(rowIdx, colIdx);\n        if (!td) {\n            return false;\n        }\n        td.setContent(content);\n        return true;\n    }\n\n    validate(): string {\n        if (this.trs.length !== this.tbodyElem.children.length) {\n            return 'Row number not match';\n        }\n        for (let i = 0; i < this.trs.length; i++) {\n            const tds = this.trs[i].getTds();\n            const tdElems = this.tbodyElem.children[i].children as HTMLCollection;\n            if (tds.length !== tdElems.length) {\n                return `The td amount of ${i + 1}th row not match`;\n            }\n            for (let j = 0; j < tds.length; j++) {\n                const td = tds[j];\n                const tdElem = tdElems[j] as HTMLElement;\n                const rowRange = td.getRowRange();\n                const colRange = td.getColRange();\n                if (rowRange[0] < 0 || rowRange[1] < 0 || colRange[0] < 0 || colRange[1] < 0) {\n                    return `Td data error. rowIndex: ${i}, colIndex: ${j}`;\n                }\n                if (rowRange[0] !== i) {\n                    return `Row range not match. rowIndex: ${i}`;\n                }\n                const colspan = tdElem.hasAttribute('colspan') ? +(tdElem as any).getAttribute('colspan') : 1;\n                if (colspan !== colRange[1] - colRange[0] + 1) {\n                    return `Colspan not match. rowIndex: ${i}, colIndex: ${j}`;\n                }\n                const rowspan = tdElem.hasAttribute('rowspan') ? +(tdElem as any).getAttribute('rowspan') : 1;\n                if (rowspan !== rowRange[1] - rowRange[0] + 1) {\n                    return `Rowspan not match. rowIndex: ${i}, colIndex: ${j}`;\n                }\n                if (td.getContent() !== (tdElem.children[0] as HTMLElement).innerText) {\n                    return `Td content not match. rowIndex: ${i}, colIndex: ${j}`;\n                }\n            }\n        }\n        return '';\n    }\n\n    getTableData() {\n        const rows = this.trs.map((tr) => {\n            return tr.getTds().map((td) => {\n                const rowRange = td.getRowRange();\n                const colRange = td.getColRange();\n                return {\n                    row: [rowRange[0], rowRange[1]],\n                    col: [colRange[0], colRange[1]],\n                    content: td.getContent(),\n                    width: td.getElem().clientWidth,\n                    height: td.getElem().clientHeight\n                };\n            });\n        });\n        const colEls = this.colgroupElem.children as HTMLCollection;\n        const colWidth = [];\n        for (let i = 0; i < colEls.length; i++) {\n            colWidth.push(+(colEls[i] as HTMLElement).style.width.slice(0, -2));\n        }\n        return {\n            rows,\n            colWidth\n        };\n    }\n\n    setEditable(editable: boolean) {\n        if (this.editable === editable) {\n            return;\n        }\n        this.editable = editable;\n        const edt = this.editable ? 'true' : 'false';\n        this.trs.forEach((tr) => {\n            tr.getTds().forEach((td) => {\n                td.getElem().contentEditable = edt;\n            });\n        });\n    }\n\n    // 单元格的跨列交集\n    getIntersectColRanges(colRange: TdRange, redundancy: number = 0): Array<TdRange> {\n        if (colRange[0] >= colRange[1]) {\n            return [];\n        }\n        const startIdx =  colRange[0];\n        const endIdx = colRange[1] + 1;\n        // 把result当作一个数轴，设置区间colRange[0] ~ colRange[1] + 1，把每行中列的点（索引）画（存）到数轴上\n        // 最后把每2个点作为区间取出来，然后去掉不满足冗余条件的区间\n        const axis = [startIdx, endIdx];\n        this.trs.forEach((tr, rowIdx) => {\n            const tds = tr.getTds();\n            let holeStartIdx = 0;\n            for (let i = 0; i < tds.length; i++) {\n                const tdColRange = tds[i].getColRange();\n                const points: Set<number> = new Set();\n                if (holeStartIdx < tdColRange[0]) {\n                    // 把空洞中所有的点取出来\n                    const holes = this.getTdsCrossRow(rowIdx, holeStartIdx, tdColRange[0] - 1);\n                    for (let j = 0; j < holes.length; j++) {\n                        const tmpHoleTdColRange = holes[j].getColRange();\n                        if (tmpHoleTdColRange[0] > startIdx && tmpHoleTdColRange[0] < endIdx) {\n                            points.add(tmpHoleTdColRange[0]);\n                        }\n                        if (tmpHoleTdColRange[1] + 1 > startIdx && tmpHoleTdColRange[1] + 1 < endIdx) {\n                            points.add(tmpHoleTdColRange[1] + 1);\n                        }\n                    }\n                }\n                if (tdColRange[0] + 1 >= endIdx) {\n                    break;\n                }\n                if (tdColRange[0] > startIdx && tdColRange[0] < endIdx) {\n                    points.add(tdColRange[0]);\n                }\n                if (tdColRange[1] + 1 > startIdx && tdColRange[1] + 1 < endIdx) {\n                    points.add(tdColRange[1] + 1);\n                }\n                holeStartIdx = tdColRange[1] + 1;\n                if (points.size > 0) {\n                    points.forEach((v: number) => {\n                        for (let i = 0; i < axis.length - 1; i++) {\n                            if (v > axis[i] && v < axis[i + 1]) {\n                                axis.splice(i + 1, 0, <number>v);\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        const result: Array<TdRange> = [];\n        for (let i = 0; i < axis.length - 1; i++) {\n            if (axis[i + 1] - axis[i] > redundancy) {\n                result.push([axis[i] + redundancy, axis[i + 1] - 1]);\n            }\n        }\n        return result;\n    }\n\n    destroy() {\n        this.elem.remove();\n    }\n}\n\nclass ColWidthCalculator {\n    private readonly data: {\n        [prop: number]: {\n            [key: number]: number\n        }\n    };\n    private readonly result: Array<number> = [];\n\n    constructor() {\n        this.data = Object.create(null);\n    }\n\n    add(colRange: TdRange, width: any) {\n        if (typeof width !== 'number') {\n            return;\n        }\n        if (colRange[0] === colRange[1]) {\n            if (colRange[0] > this.result.length - 1) {\n                for (let i = this.result.length; i <= colRange[0]; i++) {\n                    this.result.push(0);\n                }\n                this.result[colRange[0]] = width as number;\n            }\n        } else {\n            if (!(colRange[0] in this.data)) {\n                this.data[colRange[0]] = {};\n            }\n            this.data[colRange[0]][colRange[1]] = width as number;\n        }\n    }\n\n    calc(colCount: number, colWidth: number | Array<number>): Array<number> {\n        if (colCount > this.result.length) {\n            for (let i = this.result.length; i < colCount; i++) {\n                this.result.push(0);\n            }\n        }\n        const isNum: boolean = typeof colWidth === 'number';\n        this.result.forEach((w, i) => {\n            if (w === null) {\n                this.result[i] = isNum ? colWidth as number : (colWidth as Array<number>)[i];\n            }\n        });\n        return this.result;\n    }\n}\n\nexport {TdRange, TableData, TableCells, Td, Table, tdRangeToString};\n","var content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./editor.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n"],"sourceRoot":""}